<!DOCTYPE html>{% load static %}
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <title>Web dictaphone</title>
    <link rel="icon" href="{% static 'favicon.ico' %}" type="image/x-icon">
    <link rel="stylesheet" href="{% static 'styles/app.css' %}" type="text/css">

    <script src="{% static 'scripts/app.js' %}"></script>
    <script src="{% static 'scripts/websocket.js' %}"></script>
  </head>

  <body data-timestamp="<%= timestamp %>">
    <div class="wrapper">

      <header>
        <h1>Web dictaphone</h1>
      </header>

      <section class="main-controls">
        <canvas class="visualizer" height="60px"></canvas>
        <div id="buttons">
          <button class="record">Record</button>
          <button class="stop">Stop</button>
        </div>
      </section>

      <section class="sound-clips">
        {% csrf_token %}
        {% for clip in clips %}
        <article class="clip">
          <audio controls="" src="{% url 'clip' path=clip.name %}" preload="none"></audio>
          <p>{{ clip.name }}</p>
          <button class="delete">Delete</button>
          <p class="text">{{ clip.text|default_if_none:"" }}</p>
        </article>
        {% endfor %}
      </section>

    </div>

    <label for="toggle">‚ùî</label>
    <input type="checkbox" id="toggle">
    <aside>
      <h2>Information</h2>

      <p><a href="https://github.com/mdn/dom-examples/tree/main/media/web-dictaphone#web-dictaphone">Web dictaphone</a> is built using <a href="https://developer.mozilla.org/en-US/docs/Web/API/Navigator.getUserMedia">getUserMedia</a> and the <a href="https://developer.mozilla.org/en-US/docs/Web/API/MediaRecorder_API">MediaRecorder API</a>, which provides an easier way to capture Media streams.</p>

      <p>Icon courtesy of <a href="http://findicons.com/search/microphone">Find Icons</a>. Thanks to <a href="http://soledadpenades.com/">Sole</a> for the Oscilloscope code!</p>
    </aside>
  </body>
</html>
